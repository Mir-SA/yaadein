{"version":3,"sources":["constants/actionTypes.js","reducers/auth.js","reducers/index.js","reducers/posts.js","components/PostDetails/styles.js","api/index.js","actions/posts.js","components/PostDetails/CommentSection.js","components/PostDetails/PostDetails.js","components/Navbar/styles.js","images/memories.png","components/Navbar/Navbar.js","components/Posts/Post/styles.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","components/Form/styles.js","components/Form/Form.js","components/styles.js","components/Pagination.jsx","components/Home/styles.js","components/Home/Home.js","components/Auth/styles.js","components/Auth/Input.js","components/Auth/Icon.js","components/Auth/Auth.js","actions/auth.js","components/Auth/AuthClientID.js","App.js","index.js"],"names":["CREATE","FETCH_POST","FETCH_ALL","FETCH_BY_SEARCH","UPDATE","COMMENT","DELETE","START_LOADING","END_LOADING","AUTH","LOGOUT","authReducer","state","authData","action","type","localStorage","setItem","JSON","stringify","data","clear","combineReducers","posts","isLoading","payload","currentPage","numberOfPages","post","map","_id","filter","auth","makeStyles","theme","media","borderRadius","objectFit","width","maxHeight","card","display","breakpoints","down","flexWrap","flexDirection","section","margin","flex","imageSection","marginLeft","recommendedPosts","loadingPaper","justifyContent","alignItems","padding","height","commentsOuterContainer","commentsInnerContainer","overflowY","marginRight","API","axios","create","baseURL","interceptors","request","use","req","getItem","headers","authorization","parse","token","fetchPost","id","get","fetchPosts","page","fetchPostsBySearch","searchQuery","search","tags","updatePost","updatedPost","patch","delPost","delete","likePost","comment","value","signIn","formData","signUp","getPostsBySearch","dispatch","a","api","console","log","message","commentPost","comments","CommentSection","classes","useStyles","useState","setComments","setComment","useDispatch","user","commentsRef","useRef","handleClick","finalComment","result","name","newComments","current","scrollIntoView","behavior","className","Typography","gutterBottom","variant","c","i","split","ref","style","TextField","fullWidth","rows","label","multiline","onChange","e","target","Button","marginTop","disabled","length","color","onClick","PostDetails","useSelector","history","useHistory","useParams","useEffect","getPost","join","Paper","elevation","CircularProgress","size","component","title","tag","moment","createdAt","fromNow","Divider","src","selectedFile","alt","likes","cursor","push","openPost","appBar","heading","palette","primary","main","textDecoration","fontSize","fontWeight","image","toolbar","profile","logout","userName","textAlign","brandContainer","purple","getContrastText","deepPurple","backgroundColor","Navbar","setUser","location","useLocation","decode","exp","Date","getTime","AppBar","position","to","Link","align","memories","Toolbar","Avatar","imageUrl","charAt","paddingTop","backgroundBlendMode","border","fullHeightCard","overlay","top","left","overlay2","right","grid","details","cardActions","cardAction","Post","setCurrentId","setLikes","userId","googleId","hasLikedPost","find","like","Likes","Card","raised","creator","zIndex","ButtonBase","CardMedia","tilte","CardContent","CardActions","disaptch","mainContainer","smMargin","spacing","actionDiv","Posts","Grid","container","item","xs","sm","md","lg","root","paper","form","fileInput","buttonSubmit","marginBottom","Form","currentId","postData","setPostData","p","autoComplete","noValidate","onSubmit","preventDefault","newPost","createPost","multiple","onDone","base64","ul","Paginate","getPosts","Pagination","count","Number","renderItem","PaginationItem","appBarSearch","pagination","gridContainer","Home","query","URLSearchParams","setSearch","setTags","searchPost","trim","Grow","in","Container","maxWidth","justify","onKeyPress","keyCode","onAdd","onDelete","tagToDelete","searchButton","avatar","secondary","submit","googleButton","Input","handleChange","autoFocus","handleShowPassword","half","required","InputProps","endAdornment","InputAdornment","IconButton","Icon","viewBox","fill","d","initialState","firstName","lastName","email","password","confirmPassword","Auth","isSignup","setIsSignUp","showPassword","setShowPassword","setFormData","googleSuccess","res","profileObj","tokenId","error","signup","signin","prevShowPassword","clientId","render","renderProps","startIcon","onSuccess","onFailure","cookiePolicy","prevIsSignup","App","path","exact","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6941dc47.chunk.js","sourcesContent":["export const CREATE = \"CREATE\";\r\nexport const FETCH_POST = \"FETCH_POST\";\r\nexport const FETCH_ALL = \"FETCH_ALL\";\r\nexport const FETCH_BY_SEARCH = \"FETCH_BY_SEARCH\";\r\nexport const UPDATE = \"UPDATE\";\r\nexport const LIKE = \"LIKE\";\r\nexport const COMMENT = \"COMMENT\";\r\nexport const DELETE = \"DELETE\";\r\n\r\nexport const START_LOADING = \"START_LOADING\";\r\nexport const END_LOADING = \"END_LOADING\";\r\n\r\nexport const AUTH = \"AUTH\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n","import { AUTH, LOGOUT } from \"../constants/actionTypes\";\r\n\r\nconst authReducer = (state = { authData: null }, action) => {\r\n    switch (action.type) {\r\n        case AUTH:\r\n            localStorage.setItem(\"profile\", JSON.stringify({ ...action?.data }));\r\n            return { ...state, authData: action?.data };\r\n        case LOGOUT:\r\n            localStorage.clear();\r\n            return { ...state, authData: null };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default authReducer;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport posts from \"./posts\";\r\nimport auth from \"./auth\";\r\n\r\nexport default combineReducers({ posts, auth });\r\n","import {\r\n    FETCH_ALL,\r\n    FETCH_POST,\r\n    FETCH_BY_SEARCH,\r\n    CREATE,\r\n    UPDATE,\r\n    DELETE,\r\n    START_LOADING,\r\n    END_LOADING,\r\n    COMMENT,\r\n} from \"../constants/actionTypes\";\r\n\r\n/* eslint-disable import/no-anonymous-default-export */\r\nexport default (state = { isLoading: true, posts: [] }, action) => {\r\n    switch (action.type) {\r\n        case START_LOADING:\r\n            return { ...state, isLoading: true };\r\n        case END_LOADING:\r\n            return { ...state, isLoading: false };\r\n        case FETCH_ALL:\r\n            return {\r\n                ...state,\r\n                posts: action.payload.data,\r\n                currentPage: action.payload.currentPage,\r\n                numberOfPages: action.payload.numberOfPages,\r\n            };\r\n        case FETCH_BY_SEARCH:\r\n            return { ...state, posts: action.payload };\r\n        case FETCH_POST:\r\n            return { ...state, post: action.payload };\r\n        case CREATE:\r\n            return { ...state, posts: [...state.posts, action.payload] };\r\n        case UPDATE:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map((post) =>\r\n                    post._id === action.payload._id ? action.payload : post\r\n                ),\r\n            };\r\n        case COMMENT:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map((post) => {\r\n                    if (post._id === action.payload._id) return action.payload;\r\n                    return post;\r\n                }),\r\n            };\r\n        case DELETE:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter((post) => post._id !== action.payload),\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    media: {\r\n        borderRadius: \"20px\",\r\n        objectFit: \"cover\",\r\n        width: \"100%\",\r\n        maxHeight: \"600px\",\r\n    },\r\n    card: {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            flexWrap: \"wrap\",\r\n            flexDirection: \"column\",\r\n        },\r\n    },\r\n    section: {\r\n        borderRadius: \"20px\",\r\n        margin: \"10px\",\r\n        flex: 1,\r\n    },\r\n    imageSection: {\r\n        marginLeft: \"20px\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            marginLeft: 0,\r\n        },\r\n    },\r\n    recommendedPosts: {\r\n        display: \"flex\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            flexDirection: \"column\",\r\n        },\r\n    },\r\n    loadingPaper: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        padding: \"20px\",\r\n        borderRadius: \"15px\",\r\n        height: \"39vh\",\r\n    },\r\n    commentsOuterContainer: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n    commentsInnerContainer: {\r\n        height: \"200px\",\r\n        overflowY: \"auto\",\r\n        marginRight: \"30px\",\r\n    },\r\n}));\r\n","import axios from \"axios\";\r\n\r\nconst API = axios.create({ baseURL: \"https://yadein.herokuapp.com\" });\r\n\r\nAPI.interceptors.request.use((req) => {\r\n    if (localStorage.getItem(\"profile\")) {\r\n        req.headers.authorization = `Bearer ${\r\n            JSON.parse(localStorage.getItem(\"profile\")).token\r\n        }`;\r\n    }\r\n\r\n    return req;\r\n});\r\n\r\nexport const fetchPost = (id) => API.get(`/posts/${id}`);\r\n\r\nexport const fetchPosts = (page) => API.get(`/posts?page=${page}`);\r\n\r\nexport const fetchPostsBySearch = (searchQuery) =>\r\n    API.get(\r\n        `/posts/search?searchQuery=${searchQuery.search || \"none\"}&tags=${\r\n            searchQuery.tags\r\n        }`\r\n    );\r\n\r\nexport const createPost = (newPost) => API.post(\"/posts\", newPost);\r\n\r\nexport const updatePost = (id, updatedPost) => API.patch(`/posts/${id}`, updatedPost);\r\n\r\nexport const delPost = (id) => API.delete(`/posts/${id}`);\r\n\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\n\r\nexport const comment = (value, id) => API.post(`/posts/${id}/commentPost`, { value });\r\n\r\nexport const signIn = (formData) => API.post(\"/users/signin\", formData);\r\n\r\nexport const signUp = (formData) => API.post(\"/users/signup\", formData);\r\n","import * as api from \"../api\";\r\nimport {\r\n    FETCH_POST,\r\n    FETCH_ALL,\r\n    FETCH_BY_SEARCH,\r\n    CREATE,\r\n    COMMENT,\r\n    UPDATE,\r\n    DELETE,\r\n    START_LOADING,\r\n    END_LOADING,\r\n} from \"../constants/actionTypes\";\r\n\r\n// Action Creators\r\nexport const getPost = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING });\r\n\r\n        const { data } = await api.fetchPost(id);\r\n\r\n        dispatch({ type: FETCH_POST, payload: data });\r\n        dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n\r\nexport const getPosts = (page) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING });\r\n        const { data } = await api.fetchPosts(page);\r\n\r\n        dispatch({ type: FETCH_ALL, payload: data });\r\n        dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n\r\nexport const getPostsBySearch = (searchQuery) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING });\r\n        const {\r\n            data: { data },\r\n        } = await api.fetchPostsBySearch(searchQuery);\r\n\r\n        dispatch({ type: FETCH_BY_SEARCH, payload: data });\r\n        dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n\r\nexport const createPost = (post, history) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: START_LOADING });\r\n        const { data } = await api.createPost(post);\r\n\r\n        history.push(`/posts/${data._id}`);\r\n\r\n        dispatch({ type: CREATE, payload: data });\r\n        dispatch({ type: END_LOADING });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n\r\nexport const updatePost = (id, post) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.updatePost(id, post);\r\n\r\n        dispatch({ type: UPDATE, payload: data });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n\r\nexport const delPost = (id) => async (dispatch) => {\r\n    try {\r\n        await api.delPost(id);\r\n\r\n        dispatch({ type: DELETE, payload: id });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n\r\nexport const likePost = (id) => async (disaptch) => {\r\n    try {\r\n        const { data } = await api.likePost(id);\r\n\r\n        disaptch({ type: UPDATE, payload: data });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n\r\nexport const commentPost = (value, id) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.comment(value, id);\r\n\r\n        dispatch({ type: COMMENT, payload: data });\r\n\r\n        return data.comments;\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n};\r\n","import React, { useState, useRef } from \"react\";\r\nimport { Typography, TextField, Button } from \"@material-ui/core\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport useStyles from \"./styles\";\r\nimport { commentPost } from \"../../actions/posts\";\r\n\r\nconst CommentSection = ({ post }) => {\r\n    const classes = useStyles();\r\n    const [comments, setComments] = useState(post?.comments);\r\n    const [comment, setComment] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n    const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n    const commentsRef = useRef();\r\n\r\n    const handleClick = async () => {\r\n        const finalComment = `${user.result.name}: ${comment}`;\r\n\r\n        const newComments = await dispatch(commentPost(finalComment, post._id));\r\n        setComments(newComments);\r\n        setComment(\"\");\r\n\r\n        commentsRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.commentsOuterContainer}>\r\n                <div className={classes.commentsInnerContainer}>\r\n                    <Typography gutterBottom variant=\"h6\">\r\n                        Comments\r\n                    </Typography>\r\n                    {comments.map((c, i) => (\r\n                        <Typography key={i} gutterBottom variant=\"subtitle1\">\r\n                            <strong>{c.split(\": \")[0]}</strong>\r\n                            {c.split(\":\")[1]}\r\n                        </Typography>\r\n                    ))}\r\n                    <div ref={commentsRef} />\r\n                </div>\r\n                {user?.result?.name && (\r\n                    <div style={{ width: \"70%\" }}>\r\n                        <Typography gutterBottom variant=\"h6\">\r\n                            Write a comment\r\n                        </Typography>\r\n                        <TextField\r\n                            fullWidth\r\n                            rows={4}\r\n                            variant=\"outlined\"\r\n                            label=\"Comment\"\r\n                            multiline\r\n                            value={comment}\r\n                            onChange={(e) => setComment(e.target.value)}\r\n                        />\r\n                        <Button\r\n                            style={{ marginTop: \"10px\" }}\r\n                            fullWidth\r\n                            disabled={!comment.length}\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            onClick={handleClick}\r\n                        >\r\n                            Comment\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CommentSection;\r\n","import React, { useEffect } from \"react\";\r\nimport { Paper, Typography, Divider, CircularProgress } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport CommentSection from \"./CommentSection\";\r\nimport { getPost, getPostsBySearch } from \"../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\n\r\nconst PostDetails = () => {\r\n    const { post, posts, isLoading } = useSelector((state) => state.posts);\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n\r\n    useEffect(() => {\r\n        dispatch(getPost(id));\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        if (post) {\r\n            dispatch(getPostsBySearch({ search: \"none\", tags: post?.tags.join(\",\") }));\r\n        }\r\n    }, [post]);\r\n\r\n    if (!post) return null;\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Paper elevation={6} className={classes.loadingPaper}>\r\n                <CircularProgress size=\"7em\" />\r\n            </Paper>\r\n        );\r\n    }\r\n\r\n    const recommendedPosts = posts.filter(({ _id }) => _id !== post._id);\r\n\r\n    const openPost = (_id) => history.push(`/posts/${_id}`);\r\n\r\n    return (\r\n        <Paper style={{ padding: \"20px\", borderRadius: \"15px\" }} elevation={6}>\r\n            <div className={classes.card}>\r\n                <div className={classes.section}>\r\n                    <Typography variant=\"h3\" component=\"h2\">\r\n                        {post.title}\r\n                    </Typography>\r\n                    <Typography\r\n                        gutterBottom\r\n                        variant=\"h6\"\r\n                        color=\"textSecondary\"\r\n                        component=\"h2\"\r\n                    >\r\n                        {post.tags.map((tag) => `#${tag} `)}\r\n                    </Typography>\r\n                    <Typography gutterBottom variant=\"body1\" component=\"p\">\r\n                        {post.message}\r\n                    </Typography>\r\n                    <Typography variant=\"h6\">Created by: {post.name}</Typography>\r\n                    <Typography variant=\"body1\">\r\n                        {moment(post.createdAt).fromNow()}\r\n                    </Typography>\r\n                    <Divider style={{ margin: \"20px 0\" }} />\r\n                    <Typography variant=\"body1\">\r\n                        <strong>Realtime Chat - coming soon!</strong>\r\n                    </Typography>\r\n                    <Divider style={{ margin: \"20px 0\" }} />\r\n                    <Typography variant=\"body1\">\r\n                        <CommentSection post={post} />\r\n                    </Typography>\r\n                    <Divider style={{ margin: \"20px 0\" }} />\r\n                </div>\r\n                <div className={classes.imageSection}>\r\n                    <img\r\n                        className={classes.media}\r\n                        src={\r\n                            post.selectedFile ||\r\n                            \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\r\n                        }\r\n                        alt={post.title}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {recommendedPosts.length && (\r\n                <div className={classes.section}>\r\n                    <Typography gutterBottom variant=\"h5\">\r\n                        You might also like:\r\n                    </Typography>\r\n                    <Divider />\r\n                    <div className={classes.recommendedPosts}>\r\n                        {recommendedPosts.map(\r\n                            ({ title, message, name, likes, selectedFile, _id }) => (\r\n                                <div\r\n                                    style={{ margin: \"20px\", cursor: \"pointer\" }}\r\n                                    onClick={() => openPost(_id)}\r\n                                    key={_id}\r\n                                >\r\n                                    <Typography gutterBottom variant=\"h6\">\r\n                                        {title}\r\n                                    </Typography>\r\n                                    <Typography gutterBottom variant=\"subtitle2\">\r\n                                        {name}\r\n                                    </Typography>\r\n                                    <Typography gutterBottom variant=\"subtitle2\">\r\n                                        {message}\r\n                                    </Typography>\r\n                                    <Typography gutterBottom variant=\"subtitle1\">\r\n                                        {likes.length}\r\n                                    </Typography>\r\n                                    <img src=\"{selectedFile}\" alt={title} width=\"200px\" />\r\n                                </div>\r\n                            )\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default PostDetails;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { deepPurple } from \"@material-ui/core/colors\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    appBar: {\r\n        borderRadius: 15,\r\n        margin: \"30px 0\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        padding: \"10px 50px\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            flexDirection: \"column\",\r\n        },\r\n    },\r\n    heading: {\r\n        color: theme.palette.primary.main,\r\n        textDecoration: \"none\",\r\n        fontSize: \"3em\",\r\n        fontWeight: 300,\r\n    },\r\n    image: {\r\n        marginLeft: \"10px\",\r\n        marginTop: \"5px\",\r\n    },\r\n    toolbar: {\r\n        display: \"flex\",\r\n        justifyContent: \"flex-end\",\r\n        width: \"400px\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            width: \"auto\",\r\n        },\r\n    },\r\n    profile: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        width: \"400px\",\r\n        alignItems: \"center\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            width: \"auto\",\r\n            marginTop: 20,\r\n            justifyContent: \"center\",\r\n        },\r\n    },\r\n    logout: {\r\n        marginLeft: \"20px\",\r\n    },\r\n    userName: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        textAlign: \"center\",\r\n    },\r\n    brandContainer: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n    },\r\n    purple: {\r\n        color: theme.palette.getContrastText(deepPurple[500]),\r\n        backgroundColor: deepPurple[500],\r\n    },\r\n}));\r\n","export default __webpack_public_path__ + \"static/media/memories.9cfa8a46.png\";","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { AppBar, Typography, Toolbar, Avatar, Button } from \"@material-ui/core\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport decode from \"jwt-decode\";\r\nimport useStyles from \"./styles.js\";\r\nimport memories from \"../../images/memories.png\";\r\n\r\nconst Navbar = () => {\r\n    const classes = useStyles();\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n\r\n    const logout = () => {\r\n        dispatch({ type: \"LOGOUT\" });\r\n\r\n        history.push(\"/\");\r\n\r\n        setUser(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const token = user?.token;\r\n\r\n        if (token) {\r\n            const decodedToken = decode(token);\r\n\r\n            if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n        }\r\n\r\n        setUser(JSON.parse(localStorage.getItem(\"profile\")));\r\n    }, [location]);\r\n\r\n    return (\r\n        <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n            <div to=\"/\" className={classes.brandContainer}>\r\n                <Typography\r\n                    component={Link}\r\n                    to=\"/posts?page=1\"\r\n                    className={classes.heading}\r\n                    variant=\"h2\"\r\n                    align=\"center\"\r\n                >\r\n                    Yaadein\r\n                </Typography>\r\n                <img src={memories} className={classes.image} alt=\"icon\" height=\"50px\" />\r\n            </div>\r\n            <Toolbar className={classes.toolbar}>\r\n                {user ? (\r\n                    <div className={classes.profile}>\r\n                        <Avatar\r\n                            className={classes.purple}\r\n                            alt={user.result.name}\r\n                            src={user.result.imageUrl}\r\n                        >\r\n                            {user.result.name.charAt(0)}\r\n                        </Avatar>\r\n                        <Typography className={classes.userName} variant=\"h6\">\r\n                            {user.result.name}\r\n                        </Typography>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            className={classes.logout}\r\n                            color=\"secondary\"\r\n                            onClick={logout}\r\n                        >\r\n                            Logout\r\n                        </Button>\r\n                    </div>\r\n                ) : (\r\n                    <Button\r\n                        component={Link}\r\n                        to=\"/auth\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                    >\r\n                        Sign In\r\n                    </Button>\r\n                )}\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles({\r\n    media: {\r\n        height: 0,\r\n        paddingTop: \"56.25%\",\r\n        backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n        backgroundBlendMode: \"darken\",\r\n    },\r\n    border: {\r\n        border: \"solid\",\r\n    },\r\n    fullHeightCard: {\r\n        height: \"100%\",\r\n    },\r\n    card: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"space-between\",\r\n        borderRadius: \"15px\",\r\n        height: \"100%\",\r\n        position: \"relative\",\r\n    },\r\n    overlay: {\r\n        position: \"absolute\",\r\n        top: \"20px\",\r\n        left: \"20px\",\r\n        color: \"white\",\r\n    },\r\n    overlay2: {\r\n        position: \"absolute\",\r\n        top: \"20px\",\r\n        right: \"20px\",\r\n        color: \"white\",\r\n    },\r\n    grid: {\r\n        display: \"flex\",\r\n    },\r\n    details: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        margin: \"20px\",\r\n    },\r\n    title: {\r\n        padding: \"0 16px\",\r\n    },\r\n    cardActions: {\r\n        padding: \"0 16px 8px 16px\",\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n    cardAction: {\r\n        display: \"block\",\r\n        textAlign: \"initial\",\r\n    },\r\n});\r\n","import React, { useState } from \"react\";\r\nimport {\r\n    Card,\r\n    CardActions,\r\n    CardContent,\r\n    CardMedia,\r\n    Button,\r\n    Typography,\r\n    ButtonBase,\r\n} from \"@material-ui/core\";\r\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport ThumbUpAltOutlined from \"@material-ui/icons/ThumbUpAltOutlined\";\r\nimport moment from \"moment\";\r\nimport useStyles from \"./styles.js\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { delPost, likePost } from \"../../../actions/posts.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Post = ({ post, setCurrentId }) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n    const history = useHistory();\r\n    const [likes, setLikes] = useState(post?.likes);\r\n\r\n    const userId = user?.result?.googleId || user?.result?._id;\r\n    const hasLikedPost = post.likes.find((like) => like === userId);\r\n\r\n    const handleLike = () => {\r\n        dispatch(likePost(post._id));\r\n\r\n        if (hasLikedPost) {\r\n            setLikes(post.likes.filter((id) => id !== userId));\r\n        } else {\r\n            setLikes([...post.likes, userId]);\r\n        }\r\n    };\r\n\r\n    const Likes = () => {\r\n        if (post?.likes?.length > 0) {\r\n            return likes.find((like) => like === userId) ? (\r\n                <>\r\n                    <ThumbUpAltIcon fontSize=\"small\" />\r\n                    &nbsp;\r\n                    {likes.length > 2\r\n                        ? `You and ${likes.length - 1} others`\r\n                        : `${likes.length} like${likes.length > 1 ? \"s\" : \"\"}`}\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <ThumbUpAltOutlined fontSize=\"small\" />\r\n                    &nbsp;{likes.length} {likes.length === 1 ? \"Like\" : \"Likes\"}\r\n                </>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <ThumbUpAltOutlined fontSize=\"small\" />\r\n                &nbsp;Like\r\n            </>\r\n        );\r\n    };\r\n\r\n    const openPost = () => history.push(`/posts/${post._id}`);\r\n\r\n    return (\r\n        <Card className={classes.card} raised elevation={6}>\r\n            <div className={classes.overlay2}>\r\n                {(user?.result?.googleId === post?.creator ||\r\n                    user?.result?._id === post?.creator) && (\r\n                    <Button\r\n                        style={{ color: \"white\", zIndex: 9 }}\r\n                        size=\"small\"\r\n                        onClick={() => setCurrentId(post._id)}\r\n                    >\r\n                        <MoreHorizIcon fontSize=\"medium\" />\r\n                    </Button>\r\n                )}\r\n            </div>\r\n            <ButtonBase className={classes.cardAction} onClick={openPost}>\r\n                <CardMedia\r\n                    className={classes.media}\r\n                    image={post.selectedFile}\r\n                    tilte={post.title}\r\n                />\r\n\r\n                <div className={classes.overlay}>\r\n                    <Typography variant=\"h6\">{post.name}</Typography>\r\n                    <Typography variant=\"body2\">\r\n                        {moment(post.createdAt).fromNow()}\r\n                    </Typography>\r\n                </div>\r\n\r\n                <div className={classes.details}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">\r\n                        {post.tags.map((tag) => `#${tag} `)}\r\n                    </Typography>\r\n                </div>\r\n\r\n                <Typography className={classes.title} variant=\"h5\" gutterBottom>\r\n                    {post.title}\r\n                </Typography>\r\n\r\n                <CardContent>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {post.message}\r\n                    </Typography>\r\n                </CardContent>\r\n            </ButtonBase>\r\n\r\n            <CardActions className={classes.cardActions}>\r\n                <Button\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    disabled={!user?.result}\r\n                    onClick={handleLike}\r\n                >\r\n                    <Likes />\r\n                </Button>\r\n                {(user?.result?.googleId === post?.creator ||\r\n                    user?.result?._id === post?.creator) && (\r\n                    <Button\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                        onClick={() => dispatch(delPost(post._id))}\r\n                    >\r\n                        <DeleteIcon fontSize=\"small\" />\r\n                        Delete\r\n                    </Button>\r\n                )}\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default Post;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    mainContainer: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n    },\r\n    smMargin: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    actionDiv: {\r\n        textAlign: \"center\",\r\n    },\r\n}));\r\n","import React from \"react\";\r\nimport { Grid, CircularProgress } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport Post from \"./Post/Post\";\r\nimport useStyles from \"./styles.js\";\r\n\r\nconst Posts = ({ setCurrentId }) => {\r\n    const { posts, isLoading } = useSelector((state) => state.posts);\r\n    const classes = useStyles();\r\n\r\n    if (!posts.length && !isLoading) return \"No posts\";\r\n\r\n    return isLoading ? (\r\n        <CircularProgress />\r\n    ) : (\r\n        <Grid className={classes.container} container alignItems=\"stretch\" spacing={3}>\r\n            {posts.map((post) => (\r\n                <Grid key={post._id} item xs={12} sm={12} md={6} lg={4}>\r\n                    <Post post={post} setCurrentId={setCurrentId} />\r\n                </Grid>\r\n            ))}\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Posts;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    root: {\r\n        \"& .MuiTextField-root\": {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    form: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent: \"center\",\r\n    },\r\n    fileInput: {\r\n        width: \"97%\",\r\n        margin: \"10px 0\",\r\n    },\r\n    buttonSubmit: {\r\n        marginBottom: 10,\r\n    },\r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Typography, TextField, Paper } from \"@material-ui/core\";\r\nimport FileBase from \"react-file-base64\";\r\nimport useStyles from \"./styles.js\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createPost, updatePost } from \"../../actions/posts\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Form = ({ currentId, setCurrentId }) => {\r\n    const [postData, setPostData] = useState({\r\n        title: \"\",\r\n        message: \"\",\r\n        tags: \"\",\r\n        selectedFile: \"\",\r\n    });\r\n    const post = useSelector((state) =>\r\n        currentId ? state.posts.posts.find((p) => p._id === currentId) : null\r\n    );\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (post) setPostData(post);\r\n    }, [post]);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (currentId) {\r\n            dispatch(updatePost(currentId, { ...postData, name: user?.result?.name }));\r\n        } else {\r\n            dispatch(createPost({ ...postData, name: user?.result?.name }, history));\r\n        }\r\n        clear();\r\n    };\r\n\r\n    const clear = () => {\r\n        setCurrentId(null);\r\n        setPostData({\r\n            title: \"\",\r\n            message: \"\",\r\n            tags: \"\",\r\n            selectedFile: \"\",\r\n        });\r\n    };\r\n\r\n    if (!user?.result?.name) {\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <Typography variant=\"h6\" align=\"center\">\r\n                    Sign In to create a post\r\n                </Typography>\r\n            </Paper>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.paper} elevation={6}>\r\n            <form\r\n                autoComplete=\"off\"\r\n                noValidate\r\n                className={`${classes.root} ${classes.form}`}\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <Typography variant=\"h6\">\r\n                    {currentId ? \"Editing\" : \"Creating\"} a memory\r\n                </Typography>\r\n\r\n                <TextField\r\n                    name=\"title\"\r\n                    variant=\"outlined\"\r\n                    label=\"Title\"\r\n                    fullWidth\r\n                    value={postData.title}\r\n                    onChange={(e) => setPostData({ ...postData, title: e.target.value })}\r\n                />\r\n                <TextField\r\n                    name=\"message\"\r\n                    variant=\"outlined\"\r\n                    label=\"Message\"\r\n                    fullWidth\r\n                    value={postData.message}\r\n                    onChange={(e) =>\r\n                        setPostData({ ...postData, message: e.target.value })\r\n                    }\r\n                />\r\n                <TextField\r\n                    name=\"tags\"\r\n                    variant=\"outlined\"\r\n                    label=\"Tags\"\r\n                    fullWidth\r\n                    value={postData.tags}\r\n                    onChange={(e) =>\r\n                        setPostData({ ...postData, tags: e.target.value.split(\",\") })\r\n                    }\r\n                />\r\n                <div className={classes.fileInput}>\r\n                    <FileBase\r\n                        type=\"file\"\r\n                        multiple={false}\r\n                        onDone={({ base64 }) =>\r\n                            setPostData({ ...postData, selectedFile: base64 })\r\n                        }\r\n                    />\r\n                </div>\r\n                <Button\r\n                    className={classes.buttonSubmit}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"large\"\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                >\r\n                    {currentId ? \"Update\" : \"Submit\"}\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    size=\"small\"\r\n                    onClick={clear}\r\n                    fullWidth\r\n                >\r\n                    Clear\r\n                </Button>\r\n            </form>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default Form;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles(() => ({\r\n    ul: {\r\n        justifyContent: \"space-around\",\r\n    },\r\n}));\r\n","import React, {useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport {Pagination, PaginationItem} from '@material-ui/lab'\r\n\r\nimport useStyles from './styles'\r\nimport { getPosts } from '../actions/posts'\r\n\r\nconst Paginate = ({ page }) => {\r\n    const { numberOfPages } = useSelector((state) => state.posts)\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if(page) dispatch(getPosts(page))\r\n    }, [page])\r\n\r\n    return (\r\n        <Pagination \r\n            classes={{ul: classes.ul}}\r\n            count={numberOfPages}\r\n            page={Number(page) || 1}\r\n            variant='outlined'\r\n            color='primary'\r\n            renderItem={(item) => (\r\n                <PaginationItem {...item} component={Link} to={`/posts?page=${item.page}`} />\r\n            )}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Paginate","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    appBarSearch: {\r\n        borderRadius: 4,\r\n        marginBottom: \"1rem\",\r\n        display: \"flex\",\r\n        padding: \"16px\",\r\n    },\r\n    pagination: {\r\n        borderRadius: 4,\r\n        marginTop: \"1rem\",\r\n        padding: \"16px\",\r\n    },\r\n    gridContainer: {\r\n        [theme.breakpoints.down(\"xs\")]: {\r\n            flexDirection: \"column-reverse\",\r\n        },\r\n    },\r\n}));\r\n","import React, { useState } from \"react\";\r\nimport {\r\n    Container,\r\n    Grow,\r\n    Grid,\r\n    Paper,\r\n    AppBar,\r\n    TextField,\r\n    Button,\r\n} from \"@material-ui/core\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\n\r\nimport Posts from \"../Posts/Posts\";\r\nimport Form from \"../Form/Form\";\r\nimport Pagination from \"../Pagination\";\r\nimport { getPostsBySearch } from \"../../actions/posts\";\r\nimport useStyles from \"./styles.js\";\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst Home = () => {\r\n    const [currentId, setCurrentId] = useState(null);\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const query = useQuery();\r\n    const page = query.get(\"page\");\r\n    const searchQuery = query.get(\"searchQuery\");\r\n    const [search, setSearch] = useState(\"\");\r\n    const [tags, setTags] = useState([]);\r\n\r\n    const searchPost = () => {\r\n        if (search.trim() || tags) {\r\n            dispatch(getPostsBySearch({ search, tags: tags.join(\",\") }));\r\n            history.push(\r\n                `/posts/search?searchQuery=${search || \"none\"}&tags=${tags.join(\",\")}`\r\n            );\r\n        } else {\r\n            history.push(\"/\");\r\n        }\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.keyCode === 13) {\r\n            searchPost();\r\n        }\r\n    };\r\n\r\n    const handleAdd = (tag) => setTags([...tags, tag]);\r\n\r\n    const handleDel = (tagToDelete) => setTags(tags.filter((tag) => tag !== tagToDelete));\r\n\r\n    return (\r\n        <Grow in>\r\n            <Container maxWidth=\"xl\">\r\n                <Grid\r\n                    className={classes.gridContainer}\r\n                    container\r\n                    justify=\"space-between\"\r\n                    alignItems=\"stretch\"\r\n                    spacing=\"3\"\r\n                >\r\n                    <Grid item xs={12} sm={6} md={9}>\r\n                        <Posts setCurrentId={setCurrentId} />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={6} md={3}>\r\n                        <AppBar\r\n                            className={classes.appBarSearch}\r\n                            position=\"static\"\r\n                            color=\"inherit\"\r\n                        >\r\n                            <TextField\r\n                                name=\"search\"\r\n                                variant=\"outlined\"\r\n                                onKeyPress={handleKeyPress}\r\n                                label=\"Search Memories\"\r\n                                fullWidth\r\n                                value={search}\r\n                                onChange={(e) => setSearch(e.target.value)}\r\n                            />\r\n                            <ChipInput\r\n                                style={{ margin: \"10px 0\" }}\r\n                                value={tags}\r\n                                onAdd={handleAdd}\r\n                                onDelete={handleDel}\r\n                                label=\"Search Tags\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                            <Button\r\n                                onClick={searchPost}\r\n                                className={classes.searchButton}\r\n                                color=\"primary\"\r\n                                variant=\"contained\"\r\n                            >\r\n                                Search\r\n                            </Button>\r\n                        </AppBar>\r\n                        <Form currentId={currentId} setCurrentId={setCurrentId} />\r\n                        {!searchQuery && !tags.length && (\r\n                            <Paper elevation={6}>\r\n                                <Pagination page={page} className={classes.pagination} />\r\n                            </Paper>\r\n                        )}\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </Grow>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        padding: theme.spacing(2),\r\n    },\r\n    root: {\r\n        \"& .MuiTextField-root\": {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: \"100%\", // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    googleButton: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n}));\r\n","import React from \"react\";\r\nimport { Grid, TextField, InputAdornment, IconButton } from \"@material-ui/core\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\n\r\nconst Input = ({\r\n    name,\r\n    handleChange,\r\n    label,\r\n    autoFocus,\r\n    type,\r\n    handleShowPassword,\r\n    half,\r\n}) => {\r\n    return (\r\n        <Grid item xs={12} sm={half ? 6 : 12}>\r\n            <TextField\r\n                name={name}\r\n                onChange={handleChange}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                label={label}\r\n                autoFocus={autoFocus}\r\n                type={type}\r\n                InputProps={\r\n                    name === \"password\"\r\n                        ? {\r\n                              endAdornment: (\r\n                                  <InputAdornment position=\"end\">\r\n                                      <IconButton onClick={handleShowPassword}>\r\n                                          {type === \"password\" ? (\r\n                                              <Visibility />\r\n                                          ) : (\r\n                                              <VisibilityOff />\r\n                                          )}\r\n                                      </IconButton>\r\n                                  </InputAdornment>\r\n                              ),\r\n                          }\r\n                        : null\r\n                }\r\n            />\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\n\r\nconst Icon = () => (\r\n    <svg style={{ width: \"20px\", height: \"20px\" }} viewBox=\"0 0 24 24\">\r\n        <path\r\n            fill=\"currentColor\"\r\n            d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\"\r\n        />\r\n    </svg>\r\n);\r\n\r\nexport default Icon;\r\n","import React, { useState } from \"react\";\r\nimport { Paper, Typography, Grid, Avatar, Button, Container } from \"@material-ui/core\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport useStyles from \"./styles.js\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Input from \"./Input.js\";\r\nimport { CLIENTID } from \"./AuthClientID.js\";\r\nimport Icon from \"./Icon.js\";\r\nimport { signup, signin } from \"../../actions/auth\";\r\n\r\nconst initialState = {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n};\r\n\r\nconst Auth = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const [isSignup, setIsSignUp] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [formData, setFormData] = useState(initialState);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (isSignup) {\r\n            dispatch(signup(formData, history));\r\n        } else {\r\n            dispatch(signin(formData, history));\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleShowPassword = () =>\r\n        setShowPassword((prevShowPassword) => !prevShowPassword);\r\n    const switchMode = () => {\r\n        setIsSignUp((prevIsSignup) => !prevIsSignup);\r\n    };\r\n    const googleSuccess = async (res) => {\r\n        const result = res?.profileObj;\r\n        const token = res?.tokenId;\r\n\r\n        try {\r\n            dispatch({ type: \"AUTH\", data: { result, token } });\r\n\r\n            history.push(\"/\");\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    const googleFailure = () => {\r\n        console.log(\"Google Sign In was unsuccessful. Try again later\");\r\n    };\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <Paper className={classes.paper} elevation={3}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography variant=\"h5\">{isSignup ? \"Sign Up\" : \"Sign In\"}</Typography>\r\n                <form className={classes.form} onSubmit={handleSubmit}>\r\n                    <Grid container spacing={2}>\r\n                        {isSignup && (\r\n                            <>\r\n                                <Input\r\n                                    name=\"firstName\"\r\n                                    label=\"First Name\"\r\n                                    handleChange={handleChange}\r\n                                    autoFocus\r\n                                    half\r\n                                />\r\n                                <Input\r\n                                    name=\"lastName\"\r\n                                    label=\"Last Name\"\r\n                                    handleChange={handleChange}\r\n                                    half\r\n                                />\r\n                            </>\r\n                        )}\r\n                        <Input\r\n                            name=\"email\"\r\n                            label=\"Email Address\"\r\n                            handleChange={handleChange}\r\n                            type=\"email\"\r\n                        />\r\n                        <Input\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            handleChange={handleChange}\r\n                            type={showPassword ? \"text\" : \"password\"}\r\n                            handleShowPassword={handleShowPassword}\r\n                        />\r\n                        {isSignup && (\r\n                            <Input\r\n                                name=\"confirmPassword\"\r\n                                label=\"Repeat Password\"\r\n                                handleChange={handleChange}\r\n                                type=\"password\"\r\n                            />\r\n                        )}\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                    >\r\n                        {isSignup ? \"Sign Up\" : \"Sign In\"}\r\n                    </Button>\r\n                    <GoogleLogin\r\n                        clientId={CLIENTID}\r\n                        render={(renderProps) => (\r\n                            <Button\r\n                                className={classes.googleButton}\r\n                                color=\"primary\"\r\n                                fullWidth\r\n                                onClick={renderProps.onClick}\r\n                                disabled={renderProps.disabled}\r\n                                startIcon={<Icon />}\r\n                                variant=\"contained\"\r\n                            >\r\n                                Google Log In{\" \"}\r\n                            </Button>\r\n                        )}\r\n                        onSuccess={googleSuccess}\r\n                        onFailure={googleFailure}\r\n                        cookiePolicy=\"single_host_origin\"\r\n                    />\r\n                    <Grid container justify=\"flex-end\">\r\n                        <Grid item>\r\n                            <Button onClick={switchMode}>\r\n                                {isSignup\r\n                                    ? \"Already have an account? Sign In\"\r\n                                    : \"Don't have an account? Sign Up\"}\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </Paper>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Auth;\r\n","import { AUTH } from \"../constants/actionTypes\";\r\nimport * as api from \"../api\";\r\n\r\nexport const signin = (formData, history) => async (dispatch) => {\r\n    try {\r\n        // logs in the user\r\n        const { data } = await api.signIn(formData);\r\n\r\n        dispatch({ type: AUTH, data });\r\n        history.push(\"/\");\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\nexport const signup = (formData, history) => async (dispatch) => {\r\n    try {\r\n        // registers new user\r\n        const { data } = await api.signUp(formData);\r\n\r\n        dispatch({ type: AUTH, data });\r\n        history.push(\"/\");\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n","export const CLIENTID =\r\n    \"982176613325-aeud6rse9mv6fat0edukl3suuikme727.apps.googleusercontent.com\";\r\n","import React from \"react\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport PostDetails from \"./components/PostDetails/PostDetails\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Home from \"./components/Home/Home\";\r\nimport Auth from \"./components/Auth/Auth\";\r\n\r\nconst App = () => {\r\n    const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Container maxWidth=\"xl\">\r\n                <Navbar />\r\n                <Switch>\r\n                    <Route path=\"/\" exact component={() => <Redirect to=\"/posts\" />} />\r\n                    <Route path=\"/posts\" exact component={Home} />\r\n                    <Route path=\"/posts/search\" exact component={Home} />\r\n                    <Route path=\"/posts/:id\" exact component={PostDetails} />\r\n                    <Route\r\n                        path=\"/auth\"\r\n                        exact\r\n                        component={() => (!user ? <Auth /> : <Redirect to=\"/posts\" />)}\r\n                    />\r\n                </Switch>\r\n            </Container>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport reducers from \"./reducers\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}